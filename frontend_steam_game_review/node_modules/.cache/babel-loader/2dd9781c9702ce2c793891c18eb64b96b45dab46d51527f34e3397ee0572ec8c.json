{"ast":null,"code":"var _jsxFileName = \"/Users/choidonghwan/Desktop/frontend_steam_game_review /frontend_steam_game_review/src/features/gameInfo/CommentsForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { __addComment, __getComments } from \"../../reduex/modules/commentsSlice\";\nimport CommentsCard from \"./CommentsCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CommentsForm = () => {\n  _s();\n  // 게임인포에서 보내는 게임 아이디값\n  const {\n    id\n  } = useParams();\n  // console.log(\"코멘트폼 파람값?\", id);\n\n  //게임아이디를 넣기위한 선언문\n  // const gameid = id; //로컬\n  const postId = id;\n  const [comment, setComment] = useState({\n    comment: \"\",\n    postId: id\n  });\n  const dispatch = useDispatch();\n  const comments = useSelector(state => state.comments.comments);\n  // console.log(\"셀렉터 코멘츠?\", comments);\n\n  //코멘트 입력\n  const onChangeHandler = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setComment({\n      ...comment,\n      [name]: value\n    });\n    // console.log(\"코멘트 입력 값\", comment);\n  };\n\n  //코멘트 POST 요청\n  const addComment = () => {\n    if (comment.comment.trim() === \"\") {\n      return alert(\"내용을 입력하세요.\");\n    }\n    dispatch(__addComment({\n      postId: id,\n      ...comment\n    }));\n    setComment({\n      comment: \"\"\n    });\n    // console.log(\"에드코멘트의 값\", comment, id);\n  };\n\n  //코멘트가 추가될때마다 렌더링 해준다. 해당 게임에 맞는 코멘트를 불러오기위해 아이디값을 넣어준다\n  useEffect(() => {\n    dispatch(__getComments(postId));\n  }, [dispatch]);\n  // console.log(gameid);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(CommentContainer, {\n      children: [/*#__PURE__*/_jsxDEV(CommentBar, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\uAC00\\uC7A5 \\uC720\\uC6A9\\uD55C \\uD3C9\\uAC00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          size: 40,\n          onChange: onChangeHandler,\n          name: \"comment\",\n          type: \"text\",\n          value: comment.comment,\n          placeholder: \"\\uCF54\\uBA58\\uD2B8\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addComment,\n          children: \"\\uB4F1\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uAC00\\uC7A5 \\uC720\\uC6A9\\uD55C \\uD3C9\\uAC00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), comments === null || comments === void 0 ? void 0 : comments.map(comment => /*#__PURE__*/_jsxDEV(CommentsCard, {\n        comment: comment\n      }, comment.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(CommentsForm, \"SvB6kb6sM/Q3RUVYCGMnM1081cM=\", false, function () {\n  return [useParams, useDispatch, useSelector];\n});\n_c = CommentsForm;\nexport default CommentsForm;\nconst CommentContainer = styled.div`\n  border: 1px solid white;\n\n  width: 100%;\n  height: 550px;\n\n  margin: 20px auto;\n\n  color: white;\n  font-weight: 700;\n\n  input {\n    width: 85%;\n    height: 20px;\n\n    padding: 10px;\n\n    border: none;\n    border-radius: 5px;\n    font-size: large;\n  }\n  button {\n    padding: 8px 13px;\n\n    font-weight: 700;\n    font-size: 20px;\n\n    color: white;\n    border: none;\n    border-radius: 5px;\n    background-color: #75b022;\n    cursor: pointer;\n  }\n`;\n_c2 = CommentContainer;\nconst CommentBar = styled.div`\n  background-color: #171a21;\n\n  height: 70px;\n  gap: inherit;\n`;\n_c3 = CommentBar;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CommentsForm\");\n$RefreshReg$(_c2, \"CommentContainer\");\n$RefreshReg$(_c3, \"CommentBar\");","map":{"version":3,"names":["React","useState","useEffect","styled","useDispatch","useSelector","useParams","__addComment","__getComments","CommentsCard","CommentsForm","id","postId","comment","setComment","dispatch","comments","state","onChangeHandler","event","name","value","target","addComment","trim","alert","map","CommentContainer","div","CommentBar"],"sources":["/Users/choidonghwan/Desktop/frontend_steam_game_review /frontend_steam_game_review/src/features/gameInfo/CommentsForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  __addComment,\n  __getComments,\n} from \"../../reduex/modules/commentsSlice\";\nimport CommentsCard from \"./CommentsCard\";\n\nconst CommentsForm = () => {\n  // 게임인포에서 보내는 게임 아이디값\n  const { id } = useParams();\n  // console.log(\"코멘트폼 파람값?\", id);\n\n  //게임아이디를 넣기위한 선언문\n  // const gameid = id; //로컬\n  const postId = id;\n\n  const [comment, setComment] = useState({ comment: \"\", postId: id });\n  const dispatch = useDispatch();\n  const comments = useSelector((state) => state.comments.comments);\n  // console.log(\"셀렉터 코멘츠?\", comments);\n\n  //코멘트 입력\n  const onChangeHandler = (event) => {\n    const { name, value } = event.target;\n    setComment({\n      ...comment,\n      [name]: value,\n    });\n    // console.log(\"코멘트 입력 값\", comment);\n  };\n\n  //코멘트 POST 요청\n  const addComment = () => {\n    if (comment.comment.trim() === \"\") {\n      return alert(\"내용을 입력하세요.\");\n    }\n    dispatch(__addComment({ postId: id, ...comment }));\n    setComment({ comment: \"\" });\n    // console.log(\"에드코멘트의 값\", comment, id);\n  };\n\n  //코멘트가 추가될때마다 렌더링 해준다. 해당 게임에 맞는 코멘트를 불러오기위해 아이디값을 넣어준다\n  useEffect(() => {\n    dispatch(__getComments(postId));\n  }, [dispatch]);\n  // console.log(gameid);\n  return (\n    <div>\n      <CommentContainer>\n        <CommentBar>\n          <div>가장 유용한 평가</div>\n          <input\n            size={40}\n            onChange={onChangeHandler}\n            name=\"comment\"\n            type=\"text\"\n            value={comment.comment}\n            placeholder=\"코멘트를 입력하세요.\"\n          ></input>\n          <button onClick={addComment}>등록</button>\n        </CommentBar>\n        <div>가장 유용한 평가</div>\n        {/* 서버에서 데이터 불러오는동안 비동기로 처리되기 때문에 배열을 불러올 수 없음 그렇기 때문에 옵셔널 체인링을 사용 */}\n        {comments?.map((comment) => (\n          <CommentsCard key={comment.id} comment={comment} />\n        ))}\n      </CommentContainer>\n    </div>\n  );\n};\n\nexport default CommentsForm;\n\nconst CommentContainer = styled.div`\n  border: 1px solid white;\n\n  width: 100%;\n  height: 550px;\n\n  margin: 20px auto;\n\n  color: white;\n  font-weight: 700;\n\n  input {\n    width: 85%;\n    height: 20px;\n\n    padding: 10px;\n\n    border: none;\n    border-radius: 5px;\n    font-size: large;\n  }\n  button {\n    padding: 8px 13px;\n\n    font-weight: 700;\n    font-size: 20px;\n\n    color: white;\n    border: none;\n    border-radius: 5px;\n    background-color: #75b022;\n    cursor: pointer;\n  }\n`;\nconst CommentBar = styled.div`\n  background-color: #171a21;\n\n  height: 70px;\n  gap: inherit;\n`;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}