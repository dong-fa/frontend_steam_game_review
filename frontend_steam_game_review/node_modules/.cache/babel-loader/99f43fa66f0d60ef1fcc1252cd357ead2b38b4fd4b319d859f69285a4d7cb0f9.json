{"ast":null,"code":"var _jsxFileName = \"/Users/choidonghwan/Desktop/frontend_steam_game_review /frontend_steam_game_review/src/features/gameInfo/CommentsCard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { __deleteComment, __getComments, __updateCommentDetail, isDisabledToggle } from \"../../reduex/modules/commentsSlice\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CommentsCard = _ref => {\n  _s();\n  let {\n    comment,\n    param\n  } = _ref;\n  const dispatch = useDispatch();\n\n  //토큰여부로 댓글수정막기\n  const token = localStorage.getItem(\"token\");\n\n  //수정이 활성화 될 시 다른 수정버튼 작동 막기\n  const {\n    disabledToggle\n  } = useSelector(state => state.comments);\n  console.log(disabledToggle);\n  //편집모드\n  const [commentUpdate, setCommetUpdate] = useState(comment.comment);\n  const [editMode, setEditMode] = useState(false);\n\n  //삭제기능\n  const onDeleteHandler = () => {\n    //토큰이 없을 경우 실행 못하도록\n    if (!token) return alert(\"로그인을 해주세요\");\n    const result = window.confirm(\"이 코멘트를 지울까요?\");\n    if (result) {\n      return dispatch(__deleteComment(comment.id));\n    } else {\n      return;\n    }\n  };\n\n  //수정기능\n  //수정버튼 눌렀을시\n  const onChangeEditMode = () => {\n    //토큰이 없을 경우 실행 못하도록\n    if (!token) return alert(\"로그인을 해주세요\");\n    //편집모드\n    setEditMode(true);\n    //수정을 했을 시 다른 버튼들 비활성화\n    dispatch(isDisabledToggle(true));\n  };\n  //수정시 빈칸입력\n  const onChangeHandler = event => {\n    setCommetUpdate(event.target.value);\n    // console.log(\"코멘트 입력 값\", comment);\n  };\n\n  //수정버튼 클릭시\n  const onEditButtonHandler = () => {\n    //빈칸 유효성\n    if (commentUpdate.trim() === \"\") {\n      return alert(\"입력된 내용이 없습니다.\");\n    }\n    console.log(comment.id);\n    const updateComment = {\n      postId: param,\n      comment: commentUpdate,\n      id: comment.id\n    };\n    dispatch(__updateCommentDetail({\n      updateComment\n    }));\n    setEditMode(false);\n    dispatch(isDisabledToggle(false));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(STcard, {\n      token: token,\n      children: editMode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(CommentsBox, {\n          token: token,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            type: \"text\",\n            children: comment.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(InputUpdateComment, {\n            type: \"text\",\n            value: commentUpdate,\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onEditButtonHandler,\n            children: \"\\uC218\\uC815\\uC644\\uB8CC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setEditMode(false);\n            },\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(TextBox, {\n          children: /*#__PURE__*/_jsxDEV(CommentsBox, {\n            token: token,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              type: \"text\",\n              children: comment.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Comment, {\n              children: comment.comment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), token && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onChangeEditMode,\n            disabled: disabledToggle,\n            children: \"\\uC218\\uC815\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onDeleteHandler,\n            disabled: disabledToggle,\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(CommentsCard, \"gdiownlyaXa3Cy7kiadaHtWPtj4=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = CommentsCard;\nexport default CommentsCard;\nconst TextBox = styled.div`\n  width: 70%;\n  display: flex;\n`;\n_c2 = TextBox;\nconst STcard = styled.div`\n  display: flex;\n\n  justify-content: ${props => props.token && \"space-between\"};\n\n  /* border: 1px solid white; */\n  border-radius: 5px;\n\n  padding: 10px;\n  margin: 10px 0px 0px 0px;\n\n  background-color: #102646;\n`;\n_c3 = STcard;\nconst CommentsBox = styled.div`\n  display: flex;\n  align-items: center;\n  padding: ${props => props.token || \"17px 13px\"};\n  margin-left: 20px;\n  height: ${props => props.token && \"\"};\n`;\n_c4 = CommentsBox;\nconst Comment = styled.div`\n  margin-left: 250px;\n`;\n_c5 = Comment;\nconst InputUpdateComment = styled.input`\n  margin-top: 20px;\n`;\n_c6 = InputUpdateComment;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"CommentsCard\");\n$RefreshReg$(_c2, \"TextBox\");\n$RefreshReg$(_c3, \"STcard\");\n$RefreshReg$(_c4, \"CommentsBox\");\n$RefreshReg$(_c5, \"Comment\");\n$RefreshReg$(_c6, \"InputUpdateComment\");","map":{"version":3,"names":["React","useEffect","useState","styled","useDispatch","useSelector","__deleteComment","__getComments","__updateCommentDetail","isDisabledToggle","CommentsCard","comment","param","dispatch","token","localStorage","getItem","disabledToggle","state","comments","console","log","commentUpdate","setCommetUpdate","editMode","setEditMode","onDeleteHandler","alert","result","window","confirm","id","onChangeEditMode","onChangeHandler","event","target","value","onEditButtonHandler","trim","updateComment","postId","TextBox","div","STcard","props","CommentsBox","Comment","InputUpdateComment","input"],"sources":["/Users/choidonghwan/Desktop/frontend_steam_game_review /frontend_steam_game_review/src/features/gameInfo/CommentsCard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  __deleteComment,\n  __getComments,\n  __updateCommentDetail,\n  isDisabledToggle,\n} from \"../../reduex/modules/commentsSlice\";\n\nconst CommentsCard = ({ comment, param }) => {\n  const dispatch = useDispatch();\n\n  //토큰여부로 댓글수정막기\n  const token = localStorage.getItem(\"token\");\n\n  //수정이 활성화 될 시 다른 수정버튼 작동 막기\n  const { disabledToggle } = useSelector((state) => state.comments);\n  console.log(disabledToggle);\n  //편집모드\n  const [commentUpdate, setCommetUpdate] = useState(comment.comment);\n  const [editMode, setEditMode] = useState(false);\n\n  //삭제기능\n  const onDeleteHandler = () => {\n    //토큰이 없을 경우 실행 못하도록\n    if (!token) return alert(\"로그인을 해주세요\");\n\n    const result = window.confirm(\"이 코멘트를 지울까요?\");\n    if (result) {\n      return dispatch(__deleteComment(comment.id));\n    } else {\n      return;\n    }\n  };\n\n  //수정기능\n  //수정버튼 눌렀을시\n  const onChangeEditMode = () => {\n    //토큰이 없을 경우 실행 못하도록\n    if (!token) return alert(\"로그인을 해주세요\");\n    //편집모드\n    setEditMode(true);\n    //수정을 했을 시 다른 버튼들 비활성화\n    dispatch(isDisabledToggle(true));\n  };\n  //수정시 빈칸입력\n  const onChangeHandler = (event) => {\n    setCommetUpdate(event.target.value);\n    // console.log(\"코멘트 입력 값\", comment);\n  };\n\n  //수정버튼 클릭시\n  const onEditButtonHandler = () => {\n    //빈칸 유효성\n    if (commentUpdate.trim() === \"\") {\n      return alert(\"입력된 내용이 없습니다.\");\n    }\n    console.log(comment.id);\n    const updateComment = {\n      postId: param,\n      comment: commentUpdate,\n      id: comment.id,\n    };\n    dispatch(\n      __updateCommentDetail({\n        updateComment,\n      })\n    );\n    setEditMode(false);\n    dispatch(isDisabledToggle(false));\n  };\n  return (\n    <>\n      <STcard token={token}>\n        {editMode ? (\n          <>\n            <CommentsBox token={token}>\n              <div type=\"text\">{comment.id}</div>\n            </CommentsBox>\n            <div>\n              <InputUpdateComment\n                type=\"text\"\n                value={commentUpdate}\n                onChange={onChangeHandler}\n              ></InputUpdateComment>\n            </div>\n            <div>\n              <button onClick={onEditButtonHandler}>수정완료</button>\n              <button\n                onClick={() => {\n                  setEditMode(false);\n                }}\n              >\n                취소\n              </button>\n            </div>\n          </>\n        ) : (\n          <>\n            <TextBox>\n              <CommentsBox token={token}>\n                <div type=\"text\">{comment.id}</div>\n                <Comment>{comment.comment}</Comment>\n              </CommentsBox>\n            </TextBox>\n            {token && (\n              <div>\n                <button onClick={onChangeEditMode} disabled={disabledToggle}>\n                  수정\n                </button>\n                <button onClick={onDeleteHandler} disabled={disabledToggle}>\n                  삭제\n                </button>\n              </div>\n            )}\n          </>\n        )}\n      </STcard>\n    </>\n  );\n};\n\nexport default CommentsCard;\n\nconst TextBox = styled.div`\n  width: 70%;\n  display: flex;\n`;\nconst STcard = styled.div`\n  display: flex;\n\n  justify-content: ${(props) => props.token && \"space-between\"};\n\n  /* border: 1px solid white; */\n  border-radius: 5px;\n\n  padding: 10px;\n  margin: 10px 0px 0px 0px;\n\n  background-color: #102646;\n`;\n\nconst CommentsBox = styled.div`\n  display: flex;\n  align-items: center;\n  padding: ${(props) => props.token || \"17px 13px\"};\n  margin-left: 20px;\n  height: ${(props) => props.token && \"\"};\n`;\n\nconst Comment = styled.div`\n  margin-left: 250px;\n`;\nconst InputUpdateComment = styled.input`\n  margin-top: 20px;\n`;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}