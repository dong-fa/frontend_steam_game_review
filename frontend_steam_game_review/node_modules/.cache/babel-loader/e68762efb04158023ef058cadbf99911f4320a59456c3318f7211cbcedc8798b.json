{"ast":null,"code":"var _jsxFileName = \"/Users/choidonghwan/Desktop/frontend_steam_game_review /frontend_steam_game_review/src/features/gameInfo/CommentsCard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { __deleteComment, __getComments, __updateCommentDetail, isDisabledToggle } from \"../../reduex/modules/commentsSlice\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CommentsCard = _ref => {\n  _s();\n  let {\n    comment,\n    param\n  } = _ref;\n  const dispatch = useDispatch();\n\n  //수정이 활성화 될 시 다른 수정버튼 작동 막기\n  const {\n    disabledToggle\n  } = useSelector(state => state.comments);\n  console.log(disabledToggle);\n  //편집모드\n  const [commentUpdate, setCommetUpdate] = useState(comment.comment);\n  const [editMode, setEditMode] = useState(false);\n\n  //삭제기능\n  const onDeleteHandler = () => {\n    const result = window.confirm(\"이 코멘트를 지울까요?\");\n    if (result) {\n      return dispatch(__deleteComment(comment.id));\n    } else {\n      return;\n    }\n  };\n\n  //수정기능\n  //수정버튼 눌렀을시\n  const onChangeEditMode = () => {\n    setEditMode(true);\n    dispatch(isDisabledToggle(true));\n  };\n  //수정시 빈칸입력\n  const onChangeHandler = event => {\n    setCommetUpdate(event.target.value);\n    // console.log(\"코멘트 입력 값\", comment);\n  };\n\n  //수정버튼 클릭시\n  const onEditButtonHandler = () => {\n    if (commentUpdate.trim() === \"\") {\n      return alert(\"입력된 내용이 없습니다.\");\n    }\n    console.log(comment.id);\n    const updateComment = {\n      postId: param,\n      comment: commentUpdate,\n      id: comment.id\n    };\n    dispatch(__updateCommentDetail({\n      updateComment\n    }));\n    setEditMode(false);\n    dispatch(isDisabledToggle(false));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(STcard, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        type: \"text\",\n        children: comment.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), editMode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: commentUpdate,\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onEditButtonHandler,\n            children: \"\\uC218\\uC815\\uC644\\uB8CC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setEditMode(false);\n            },\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: comment.comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onChangeEditMode,\n            disabled: disabledToggle,\n            children: \"\\uC218\\uC815\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onDeleteHandler,\n            disabled: disabledToggle,\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(CommentsCard, \"gdiownlyaXa3Cy7kiadaHtWPtj4=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = CommentsCard;\nexport default CommentsCard;\nconst STcard = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  /* border: 1px solid white; */\n  border-radius: 5px;\n\n  padding: 10px;\n  margin: 10px 0px 0px 0px;\n\n  background-color: #102646;\n`;\n_c2 = STcard;\nvar _c, _c2;\n$RefreshReg$(_c, \"CommentsCard\");\n$RefreshReg$(_c2, \"STcard\");","map":{"version":3,"names":["React","useEffect","useState","styled","useDispatch","useSelector","__deleteComment","__getComments","__updateCommentDetail","isDisabledToggle","CommentsCard","comment","param","dispatch","disabledToggle","state","comments","console","log","commentUpdate","setCommetUpdate","editMode","setEditMode","onDeleteHandler","result","window","confirm","id","onChangeEditMode","onChangeHandler","event","target","value","onEditButtonHandler","trim","alert","updateComment","postId","STcard","div"],"sources":["/Users/choidonghwan/Desktop/frontend_steam_game_review /frontend_steam_game_review/src/features/gameInfo/CommentsCard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  __deleteComment,\n  __getComments,\n  __updateCommentDetail,\n  isDisabledToggle,\n} from \"../../reduex/modules/commentsSlice\";\n\nconst CommentsCard = ({ comment, param }) => {\n  const dispatch = useDispatch();\n\n  //수정이 활성화 될 시 다른 수정버튼 작동 막기\n  const { disabledToggle } = useSelector((state) => state.comments);\n  console.log(disabledToggle);\n  //편집모드\n  const [commentUpdate, setCommetUpdate] = useState(comment.comment);\n  const [editMode, setEditMode] = useState(false);\n\n  //삭제기능\n  const onDeleteHandler = () => {\n    const result = window.confirm(\"이 코멘트를 지울까요?\");\n    if (result) {\n      return dispatch(__deleteComment(comment.id));\n    } else {\n      return;\n    }\n  };\n\n  //수정기능\n  //수정버튼 눌렀을시\n  const onChangeEditMode = () => {\n    setEditMode(true);\n    dispatch(isDisabledToggle(true));\n  };\n  //수정시 빈칸입력\n  const onChangeHandler = (event) => {\n    setCommetUpdate(event.target.value);\n    // console.log(\"코멘트 입력 값\", comment);\n  };\n\n  //수정버튼 클릭시\n  const onEditButtonHandler = () => {\n    if (commentUpdate.trim() === \"\") {\n      return alert(\"입력된 내용이 없습니다.\");\n    }\n    console.log(comment.id);\n    const updateComment = {\n      postId: param,\n      comment: commentUpdate,\n      id: comment.id,\n    };\n    dispatch(\n      __updateCommentDetail({\n        updateComment,\n      })\n    );\n    setEditMode(false);\n    dispatch(isDisabledToggle(false));\n  };\n  return (\n    <>\n      <STcard>\n        <div type=\"text\">{comment.id}</div>\n        {editMode ? (\n          <>\n            <div>\n              <input\n                type=\"text\"\n                value={commentUpdate}\n                onChange={onChangeHandler}\n              ></input>\n            </div>\n            <div>\n              <button onClick={onEditButtonHandler}>수정완료</button>\n              <button\n                onClick={() => {\n                  setEditMode(false);\n                }}\n              >\n                취소\n              </button>\n            </div>\n          </>\n        ) : (\n          <>\n            <div>\n              <div>{comment.comment}</div>\n            </div>\n            <div>\n              <button onClick={onChangeEditMode} disabled={disabledToggle}>\n                수정\n              </button>\n              <button onClick={onDeleteHandler} disabled={disabledToggle}>\n                삭제\n              </button>\n            </div>\n          </>\n        )}\n      </STcard>\n    </>\n  );\n};\n\nexport default CommentsCard;\n\nconst STcard = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  /* border: 1px solid white; */\n  border-radius: 5px;\n\n  padding: 10px;\n  margin: 10px 0px 0px 0px;\n\n  background-color: #102646;\n`;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}